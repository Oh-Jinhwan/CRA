<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>refac334.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;string&gt;

using std::cout;
using std::string;
using std::vector;

class SplitAndSum {
public:
	int splitAndSum2(string text)
<span style = "background-color:#fdd">	{
		if (isEmpty(text)) return 0;</span>

<span style = "background-color:#fdd">		return  getSum(toInts(split(text)));
	}</span>

private:
	bool isEmpty(string text)
<span style = "background-color:#fdd">	{
		return text.empty();
	}</span>

	vector&lt;string&gt; split(string&amp; text)
<span style = "background-color:#fdd">	{
		vector&lt;string&gt; values;
		int a = 0, b = 0;</span>

<span style = "background-color:#fdd">		text += "-";
		while (1) {
			b = text.find("-", a);
			if (b == -1) break;
			string temp = text.substr(a, b - a);
			values.push_back(temp);
			a = b + 1;
		}</span>

<span style = "background-color:#fdd">		return values;
	}</span>

	vector&lt;int&gt; toInts(vector&lt;string&gt; values)
<span style = "background-color:#fdd">	{
		vector&lt;int&gt; result;</span>

<span style = "background-color:#fdd">		for (auto&amp; value : values)</span>
		{
<span style = "background-color:#fdd">			result.push_back(stoi(value));
		}</span>

<span style = "background-color:#fdd">		return result;
	}</span>

	int getSum(vector&lt;int&gt; nums)
<span style = "background-color:#fdd">	{
		int result = 0;</span>

<span style = "background-color:#fdd">		for (auto&amp; num : nums)</span>
		{
<span style = "background-color:#fdd">			result += num;
		}</span>

<span style = "background-color:#fdd">		return result;
	}</span>
};

int main33()
<span style = "background-color:#fdd">{
	cout &lt;&lt; SplitAndSum().splitAndSum2("100-10-20");
	return 0;
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>